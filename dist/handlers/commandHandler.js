"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.CommandHandler = void 0;
const config_1 = require("../config");
class CommandHandler {
    constructor(client, discordClient) {
        this.client = client;
        this.DiscordClient = discordClient;
    }
    Handle(msg) {
        if (msg.author.id === this.DiscordClient.user.id)
            return;
        if (!msg.content.startsWith(config_1.prefix))
            return;
        let command = msg.content.split(' ')[0].replace(config_1.prefix, '');
        let args = this.GetArgs(msg.content);
        if (command == 'play')
            this.client.youtubePlayer.Play(args[0], msg, this.client);
        else if (command == 'skip')
            this.client.youtubePlayer.Skip(this.client, msg);
        else if (command == 'dc')
            this.client.youtubePlayer.Disconnect(this.client, msg);
    }
    GetArgs(command) {
        return (command.split(' ').pop()).split(' ');
    }
}
exports.CommandHandler = CommandHandler;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZEhhbmRsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvaGFuZGxlcnMvY29tbWFuZEhhbmRsZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBRUEsc0NBQW1DO0FBRW5DLE1BQWEsY0FBYztJQUl2QixZQUFZLE1BQWMsRUFBRSxhQUE0QjtRQUNwRCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBRU0sTUFBTSxDQUFDLEdBQVk7UUFDdEIsSUFBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQUUsT0FBTztRQUN4RCxJQUFHLENBQUMsR0FBRyxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsZUFBTSxDQUFDO1lBQUUsT0FBTztRQUUzQyxJQUFJLE9BQU8sR0FBVyxHQUFHLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsZUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQ3BFLElBQUksSUFBSSxHQUFtQixJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUVyRCxJQUFTLE9BQU8sSUFBSSxNQUFNO1lBQU0sSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO2FBQ3JGLElBQUksT0FBTyxJQUFJLE1BQU07WUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQzthQUM1RSxJQUFJLE9BQU8sSUFBSSxJQUFJO1lBQVEsSUFBSSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLENBQUM7SUFFM0YsQ0FBQztJQUVPLE9BQU8sQ0FBQyxPQUFlO1FBQzNCLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ2pELENBQUM7Q0FDSjtBQXpCRCx3Q0F5QkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDbGllbnQgfSBmcm9tICcuLi9jbGllbnQvQm90Q2xpZW50JztcbmltcG9ydCB7IENsaWVudCBhcyBEaXNjb3JkQ2xpZW50LCBNZXNzYWdlIH0gZnJvbSAnZGlzY29yZC5qcyc7XG5pbXBvcnQgeyBwcmVmaXggfSBmcm9tICcuLi9jb25maWcnO1xuXG5leHBvcnQgY2xhc3MgQ29tbWFuZEhhbmRsZXIge1xuICAgIHByaXZhdGUgY2xpZW50OiBDbGllbnQ7XG4gICAgcHJpdmF0ZSBEaXNjb3JkQ2xpZW50OiBEaXNjb3JkQ2xpZW50O1xuXG4gICAgY29uc3RydWN0b3IoY2xpZW50OiBDbGllbnQsIGRpc2NvcmRDbGllbnQ6IERpc2NvcmRDbGllbnQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuRGlzY29yZENsaWVudCA9IGRpc2NvcmRDbGllbnQ7XG4gICAgfVxuXG4gICAgcHVibGljIEhhbmRsZShtc2c6IE1lc3NhZ2UpIDogdm9pZCB7XG4gICAgICAgIGlmKG1zZy5hdXRob3IuaWQgPT09IHRoaXMuRGlzY29yZENsaWVudC51c2VyLmlkKSByZXR1cm47XG4gICAgICAgIGlmKCFtc2cuY29udGVudC5zdGFydHNXaXRoKHByZWZpeCkpIHJldHVybjtcbiAgICAgICAgICAgIFxuICAgICAgICBsZXQgY29tbWFuZDogc3RyaW5nID0gbXNnLmNvbnRlbnQuc3BsaXQoJyAnKVswXS5yZXBsYWNlKHByZWZpeCwgJycpO1xuICAgICAgICBsZXQgYXJncyA6IEFycmF5PHN0cmluZz4gPSB0aGlzLkdldEFyZ3MobXNnLmNvbnRlbnQpO1xuXG4gICAgICAgIGlmICAgICAgKGNvbW1hbmQgPT0gJ3BsYXknKSAgICAgdGhpcy5jbGllbnQueW91dHViZVBsYXllci5QbGF5KGFyZ3NbMF0sIG1zZywgdGhpcy5jbGllbnQpO1xuICAgICAgICBlbHNlIGlmIChjb21tYW5kID09ICdza2lwJykgICAgIHRoaXMuY2xpZW50LnlvdXR1YmVQbGF5ZXIuU2tpcCh0aGlzLmNsaWVudCwgbXNnKTtcbiAgICAgICAgZWxzZSBpZiAoY29tbWFuZCA9PSAnZGMnKSAgICAgICB0aGlzLmNsaWVudC55b3V0dWJlUGxheWVyLkRpc2Nvbm5lY3QodGhpcy5jbGllbnQsIG1zZyk7XG5cbiAgICB9XG5cbiAgICBwcml2YXRlIEdldEFyZ3MoY29tbWFuZDogc3RyaW5nKTogQXJyYXk8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiAoY29tbWFuZC5zcGxpdCgnICcpLnBvcCgpKS5zcGxpdCgnICcpO1xuICAgIH1cbn0iXX0=